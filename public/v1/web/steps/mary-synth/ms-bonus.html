<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Mary Had a Little Synth- Bonus</title>
  <link rel="stylesheet" type="text/css" href="./css/mary-synth.css">
  <style>
  body{
    background-color:white;
  }

  div{
   text-align:center;
}
.key{
  display:inline-block;
  border: 1px solid black;
  background-color: blue;
padding: 30px;
}

#blank{
  border: 1px solid white;
  background-color: white;
  padding: 30px;
}
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.4.9/Tone.js"></script>
</head>
<body>
  <div>
  <h1>See if you can play your favorite song!</h1>
  <div class="key" id="Csharp">C#</div>
  <div class="key" id="Dsharp">D#</div>
  <div class="key" id="blank"></div>
  <div class="key" id="Fsharp">F#</div>
  <div class="key" id="Gsharp">G#</div>
  <div class="key" id="Asharp">A#</div>
  <div class="key" id="blank"></div>
  <div class="key" id="Csharp2">C#</div>
  <div class="key" id="Dsharp2">D#</div>
  <br>
  <div class="key" id="C">C</div>
  <div class="key" id="D">D</div>
  <div class="key" id="E">E</div>
  <div class="key" id="F">F</div>
  <div class="key" id="G">G</div>
  <div class="key" id="A">A</div>
  <div class="key" id="B">B</div>
  <div class="key" id="C2">C</div>
  <div class="key" id="D2">D</div>
  <div class="key" id="E2">E</div>

</div>
</body>
<script>
    //Synth to speakers
var synth = new Tone.Synth().toDestination();

//key divs for color change
var cNote = document.getElementById("C");
var cShNote = document.getElementById("Csharp");
var dNote = document.getElementById("D");
var dShNote = document.getElementById("Dsharp");
var eNote = document.getElementById("E");
var fNote = document.getElementById("F");
var fShNote = document.getElementById("Fsharp");
var gNote = document.getElementById("G");
var gShNote = document.getElementById("Gsharp");
var aNote = document.getElementById("A");
var aShNote = document.getElementById("Asharp");
var bNote = document.getElementById("B");
var c2Note = document.getElementById("C2");
var cSh2Note = document.getElementById("Csharp2");
var d2Note = document.getElementById("D2");
var dSh2Note = document.getElementById("Dsharp2");
var e2Note = document.getElementById("E2");

//key press listeners
document.addEventListener("keydown", pressKey);
document.addEventListener("keyup", releaseKey);

//keydown callback
function pressKey(key) {
  //if key is pressed, trigger the synth and change the background color
  switch (key.code) {
    case "KeyA":
      console.log("A is pressed!");
      //triggerAttackRelease recieves a string of the pitch name and a rhythm marker
      synth.triggerAttackRelease("C4", "8n");
      cNote.style.backgroundColor = "red";
      break;
    case "KeyW":
      console.log("W is pressed!");
      synth.triggerAttackRelease("C#4", "8n");
      cShNote.style.backgroundColor = "red";
      break;
    case "KeyS":
      console.log("S is pressed!");
      synth.triggerAttackRelease("D4", "8n");
      dNote.style.backgroundColor = "red";
      break;
    case "KeyE":
      console.log("E is pressed!");
      synth.triggerAttackRelease("D#4", "8n");
      dShNote.style.backgroundColor = "red";
      break;
    case "KeyD":
      console.log("D is pressed!");
      eNote.style.backgroundColor = "red";
      synth.triggerAttackRelease("E4", "8n");
      break;
    case "KeyF":
      console.log("F is pressed!");
      fNote.style.backgroundColor = "red";
      synth.triggerAttackRelease("F4", "8n");
      break;
    case "KeyT":
      console.log("T is pressed!");
      synth.triggerAttackRelease("F#4", "8n");
      fShNote.style.backgroundColor = "red";
      break;
    case "KeyG":
      console.log("G is pressed!");
      gNote.style.backgroundColor = "red";
      synth.triggerAttackRelease("G4", "8n");
      break;
    case "KeyY":
      console.log("Y is pressed!");
      synth.triggerAttackRelease("G#4", "8n");
      gShNote.style.backgroundColor = "red";
      break;
    case "KeyH":
      console.log("H is pressed!");
      aNote.style.backgroundColor = "red";
      synth.triggerAttackRelease("A4", "8n");
      break;
    case "KeyU":
      console.log("U is pressed!");
      synth.triggerAttackRelease("A#4", "8n");
      aShNote.style.backgroundColor = "red";
      break;
    case "KeyJ":
      console.log("H is pressed!");
      bNote.style.backgroundColor = "red";
      synth.triggerAttackRelease("B4", "8n");
      break;
    case "KeyK":
      console.log("K is pressed!");
      c2Note.style.backgroundColor = "red";
      synth.triggerAttackRelease("C5", "8n");
      break;
    case "KeyO":
      console.log("O is pressed!");
      synth.triggerAttackRelease("C#5", "8n");
      cSh2Note.style.backgroundColor = "red";
      break;
    case "KeyL":
      console.log("L is pressed!");
      d2Note.style.backgroundColor = "red";
      synth.triggerAttackRelease("D5", "8n");
      break;
    case "KeyP":
      console.log("O is pressed!");
      synth.triggerAttackRelease("D#5", "8n");
      dSh2Note.style.backgroundColor = "red";
      break;
    case "Semicolon":
      console.log("Semicolon is pressed!");
      e2Note.style.backgroundColor = "red";
      synth.triggerAttackRelease("E5", "8n");
      break;
  }
}

function releaseKey(key) {
  switch (key.code) {
    case "KeyA":
      cNote.style.backgroundColor = "blue";
      break;
    case "KeyW":
      cShNote.style.backgroundColor = "blue";
      break;
    case "KeyS":
      dNote.style.backgroundColor = "blue";
      break;
    case "KeyE":
      dShNote.style.backgroundColor = "blue";
      break;
    case "KeyD":
      eNote.style.backgroundColor = "blue";
      break;
    case "KeyF":
      fNote.style.backgroundColor = "blue";
      break;
    case "KeyT":
      fShNote.style.backgroundColor = "blue";
      break;
    case "KeyG":
      gNote.style.backgroundColor = "blue";
      break;
    case "KeyY":
      gShNote.style.backgroundColor = "blue";
      break;
    case "KeyH":
      aNote.style.backgroundColor = "blue";
      break;
    case "KeyU":
      aShNote.style.backgroundColor = "blue";
      break;
    case "KeyJ":
      bNote.style.backgroundColor = "blue";
      break;
    case "KeyK":
      c2Note.style.backgroundColor = "blue";
      break;
    case "KeyO":
      cSh2Note.style.backgroundColor = "blue";
      break;
    case "KeyL":
      d2Note.style.backgroundColor = "blue";
      break;
    case "KeyP":
      dSh2Note.style.backgroundColor = "blue";
      break;
    case "Semicolon":
      e2Note.style.backgroundColor = "blue";
      break;
  }
}
</script>
</html>